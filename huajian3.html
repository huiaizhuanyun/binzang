<!DOCTYPE html>
<html lang="zh-CN">
<head>
    <meta charset="UTF-8">
    <title>汇爱服务费用计算</title>
    <style>
        body {
            font-family: 'Microsoft YaHei', sans-serif;
            background-color: #f5f5f5;
            margin: 0;
            padding: 0;
        }
        .container {
            width: 90%;
            max-width: 1200px;
            margin: 30px auto;
            background-color: #fff;
            padding: 20px 30px;
            box-shadow: 0 0 10px rgba(0,0,0,0.1);
        }
        h1, h2, h3 {
            text-align: center;
        }
        .section {
            margin-bottom: 40px;
        }
        label {
            display: block;
            margin-bottom: 10px;
            font-weight: bold;
        }
        input[type="text"], input[type="number"], input[type="datetime-local"], select {
            width: 100%;
            padding: 8px;
            margin-bottom: 10px;
        }
        .services {
            margin-bottom: 20px;
        }
        .services h3 {
            margin-top: 30px;
            border-bottom: 2px solid #ddd;
            padding-bottom: 10px;
            cursor: pointer;
        }
        .service-item {
            margin-bottom: 20px;
        }
        .service-item label {
            font-weight: normal;
        }
        .service-options {
            margin-left: 20px;
            margin-top: 10px;
        }
        .total {
            text-align: right;
            font-size: 1.5em;
            font-weight: bold;
            margin-top: 30px;
        }
        .bill {
            margin-top: 50px;
        }
        .bill h2 {
            border-bottom: 2px solid #ddd;
            padding-bottom: 10px;
        }
        .bill-item {
            margin-bottom: 20px;
        }
        .bill-item h3 {
            margin-bottom: 10px;
        }
        .bill-service {
            margin-left: 20px;
        }
        .bill-service p {
            margin: 5px 0;
        }
        .btn {
            display: inline-block;
            width: 200px;
            margin: 30px 10px 30px 0;
            padding: 10px;
            background-color: #007bff;
            color: #fff;
            text-align: center;
            text-decoration: none;
            font-size: 1.2em;
            border-radius: 5px;
            cursor: pointer;
        }
        .btn-container {
            text-align: center;
        }
        .hidden {
            display: none;
        }
        .input-inline {
            display: inline-block;
            width: auto;
            margin-right: 10px;
        }
        .input-inline input {
            width: 80px;
        }
        .input-inline label {
            display: inline;
            margin: 0;
            font-weight: normal;
        }
        .note {
            font-size: 12px;
            color: #888;
        }
        .table {
            border-collapse: collapse;
            width: 100%;
            margin-top: 10px;
        }
        .table th, .table td {
            border: 1px solid #ddd;
            padding: 8px;
            text-align: center;
        }
        .fengshui {
            margin-top: 20px;
            text-align: right;
            font-size: 1.2em;
            color: red;
        }
        .service-content {
            display: none;
        }
        .service-header {
            cursor: pointer;
            position: relative;
        }
        .service-header:after {
            content: '▼';
            position: absolute;
            right: 0;
            font-size: 12px;
        }
        .subtotal {
            font-weight: bold;
            margin-top: 10px;
            text-align: right;
            color: green;
        }
        .qrcode-container {
            display: flex;
            justify-content: center;
            gap: 20px;
            margin-top: 30px;
        }
        .qrcode-container img {
            width: 150px;
            height: 150px;
        }
        .qrcode-container p {
            text-align: center;
            margin: 5px 0 0 0;
            font-size: 14px;
        }
    </style>
</head>
<body>

<div class="container">
    <h1>汇爱服务费用计算</h1>
    <div style="text-align: center; margin-bottom: 20px;">
        <button onclick="startRecording('audio')">开始录音</button>
        <button onclick="stopRecording('audio')">停止录音</button>
        <button onclick="startRecording('video')">开始录像</button>
        <button onclick="stopRecording('video')">停止录像</button>
    </div>

    <div class="section">
        <h2>逝者及家属信息</h2>
        <label>逝者姓名：</label>
        <input type="text" id="deceasedName" required>

        <label>身份证号：</label>
        <input type="text" id="idNumber" maxlength="18" required>

        <label>年龄：</label>
        <input type="number" id="age" min="0">

        <label>性别：</label>
        <input type="text" id="gender" readonly>

        <label>家庭住址：</label>
        <input type="text" id="address" required>

        <label>家属电话：</label>
        <input type="text" id="familyPhone" required>
        <p id="phoneLocation" class="note"></p>

        <label>停放时间：</label>
        <input type="datetime-local" id="storageTime" required>

        <label>来源：</label>
        <select id="source">
            <option value="公路">公路</option>
            <option value="急救">急救</option>
            <option value="病房">病房</option>
            <option value="其他">其他</option>
        </select>

        <div id="sourceMemo">
            <label>备忘信息：</label>
            <input type="text" id="sourceMemoInput" placeholder="请输入备忘信息">
        </div>
    </div>

    <!-- 汇爱基础服务（必选服务） -->
    <div class="section services">
        <h2>汇爱基础服务（必选服务）</h2>

        <!-- 1. 接尸服务 -->
        <h3>1. 接尸服务</h3>
        <div>
            <div class="service-item">
                <label>接运车费：</label>
                <select id="transportFee" class="service-select" data-category="接尸服务">
                    <option value="">请选择</option>
                    <option value="600" data-name="市内接运">市内接运：600元/次</option>
                    <option value="1000" data-name="下乡接运">下乡接运：1000元/次</option>
                    <option value="2000" data-name="汇爱市内接运">汇爱市内接运：2000元/次</option>
                    <option value="3000" data-name="汇爱下乡接运">汇爱下乡接运：3000元/次</option>
                </select>
            </div>
            <div class="service-item">
                <label><input type="checkbox" class="service" data-category="接尸服务" data-name="尸体袋" data-price="260"> 尸体袋：260元/个</label>
            </div>
            <div class="service-item">
                <label>接尸服务费：</label>
                <select id="corpseServiceFee" class="service-select" data-category="接尸服务">
                    <option value="400" data-name="多位师傅" selected>多位师傅：400元/次</option>
                    <option value="260" data-name="一位师傅">一位师傅：260元/次</option>
                </select>
            </div>
            <div class="service-item">
                <label>上楼搬抬费：</label>
                <select id="upstairsFee" class="service-select" data-category="接尸服务">
                    <option value="0" data-name="无">无</option>
                    <option value="0" data-name="有担架电梯">有担架电梯：免费</option>
                    <option value="100" data-name="步梯">步梯：100元/层</option>
                </select>
                <div id="stairsInput" class="hidden">
                    <label>请输入楼层数：</label>
                    <input type="number" id="stairsFloors" min="1">
                </div>
            </div>
            <div class="service-item">
                <label><input type="checkbox" id="over20Hours" data-category="接尸服务" data-name="死亡时间超过20小时" data-price="300"> 死亡时间超过20小时：加收300元</label>
            </div>
            <div class="service-item">
                <label><input type="checkbox" id="decomposition" data-category="接尸服务" data-name="腐烂情况" data-price="600"> 腐烂情况加收：600元</label>
            </div>
        </div>

        <!-- 2. 停放与保存服务 -->
        <h3>2. 停放与保存服务</h3>
        <div>
            <div class="service-item">
                <label>冷冻停保费：<span class="note">380元/天（不满1天以100元/小时计，380元封顶）</span></label>
                <div class="input-inline">
                    <input type="number" id="freezingDays" min="0" placeholder="天数">
                    <label>天</label>
                </div>
                <div class="input-inline">
                    <input type="number" id="freezingHours" min="0" max="24" placeholder="小时数">
                    <label>小时</label>
                </div>
            </div>
            <div class="service-item">
                <label><input type="checkbox" class="service" data-category="停放与保存服务" data-name="环境消毒费" data-price="100" checked disabled> 环境消毒费：100元（必选，仅计一次）</label>
            </div>
            <div class="service-item">
                <label><input type="checkbox" class="service" data-category="停放与保存服务" data-name="环境卫生费" data-price="100" checked disabled> 环境卫生费：100元（必选，仅计一次）</label>
            </div>
            <div class="service-item">
                <label>太空被：<span class="note">用于辅助制冷及需要拍摄CT者</span></label>
                <select id="spaceQuilt" class="service-select" data-category="停放与保存服务">
                    <option value="200" data-name="太空被（200元/套）" selected>200元/套</option>
                    <option value="100" data-name="太空被（100元/条）">100元/条</option>
                </select>
                <div id="quiltQuantity" class="hidden">
                    <label>请输入条数：</label>
                    <input type="number" id="quiltCount" min="0" value="1">
                </div>
            </div>
        </div>

        <!-- 3. 辅助服务 -->
        <h3>3. 辅助服务</h3>
        <div>
            <div class="service-item">
                <label><input type="checkbox" class="service" data-category="辅助服务" data-name="尸体检验台使用费" data-price="200"> 尸体检验台使用费：200元</label>
            </div>
            <div class="service-item">
                <label><input type="checkbox" class="service" data-category="辅助服务" data-name="料理费" data-price="200"> 料理费（协助抬尸、清洗、处理等）：200元/次</label>
            </div>
            <div class="service-item">
                <label><input type="checkbox" class="service" data-category="辅助服务" data-name="CT服务费" data-price="200"> CT服务费（仅包括CT预约及抬尸协助，会诊，不包含CT费）：300元/次</label>
            </div>
        </div>

        <!-- 4. 值守服务 -->
        <h3 class="service-header">4. 值守服务</h3>
        <div class="service-content">
            <div class="service-item">
                <label>值守时间：</label>
                <div class="input-inline">
                    <input type="number" id="dayGuardHours" min="0" placeholder="白天小时数">
                    <label>白天（30元/小时）</label>
                </div>
                <div class="input-inline">
                    <input type="number" id="nightGuardHours" min="0" placeholder="夜间小时数">
                    <label>夜间（50元/小时）</label>
                </div>
                <p class="note">每天2小时内：免费</p>
            </div>
        </div>

        <!-- 5. 回家服务 -->
        <h3>5. 回家服务</h3>
        <div>
            <div class="service-item">
                <label>单程公里数：</label>
                <input type="number" id="homeDistance" min="0" placeholder="输入公里数">
                <table class="table">
                    <tr>
                        <th>里程（公里）</th>
                        <th>价格（元）</th>
                    </tr>
                    <tr>
                        <td>10公里内</td>
                        <td>600</td>
                    </tr>
                    <tr>
                        <td>20公里内</td>
                        <td>700</td>
                    </tr>
                    <tr>
                        <td>30公里内</td>
                        <td>800</td>
                    </tr>
                    <tr>
                        <td>40公里内</td>
                        <td>1000</td>
                    </tr>
                    <tr>
                        <td>50公里内</td>
                        <td>1200</td>
                    </tr>
                    <tr>
                        <td>50-200公里</td>
                        <td>12元/公里（双程）</td>
                    </tr>
                    <tr>
                        <td>200公里以上</td>
                        <td>10元/公里（双程）</td>
                    </tr>
                </table>
                <p class="note">超过70公里的加收按单程每公里0.5元的路桥费</p>
            </div>
        </div>
    </div>

    <!-- 汇爱关怀服务（可选服务） -->
    <div class="section services">
        <h2>汇爱关怀服务（可选服务）</h2>

        <!-- 1. 缝合服务 -->
        <h3>1. 缝合服务</h3>
        <div>
            <div class="service-item">
                <label>基础缝合：<span class="note">340元 + 160元/厘米，价格10000元封顶</span></label>
                <div class="input-inline">
                    <input type="number" id="sutureLength" min="0" placeholder="厘米数">
                    <label>厘米</label>
                </div>
                <label><input type="checkbox" id="filling"> 需填充</label>
                <label><input type="checkbox" id="skullImplant"> 颅骨植入</label>
            </div>
        </div>

        <!-- 2. 整洁穿衣化妆服务 -->
        <h3>2. 整洁穿衣化妆服务</h3>
        <div>
            <div class="service-item">
                <label>请选择服务类型：</label>
                <select id="makeupService">
                    <option value="">请选择</option>
                    <option value="套餐1">全部服务及公共用品：2860元</option>
                    <option value="套餐2">全部服务及一次性化妆品：3560元</option>
                    <option value="套餐3">全部服务及全新工具和全新高档化妆品：3960元</option>
                    <option value="单选服务">单选服务</option>
                </select>
                <p class="note">套餐包含：洗发或修发、清洁口鼻耳、剪指甲、修鼻毛或刮胡子、沐浴露洗澡、擦干、两位师父轻柔穿衣、化妆</p>
            </div>
            <div id="singleServices" class="hidden">
                <div class="service-item">
                    <label><input type="checkbox" data-category="整洁穿衣化妆服务" data-name="穿衣检验台使用费" data-price="100"> 穿衣检验台使用费：100元</label>
                </div>
                <div class="service-item">
                    <label><input type="checkbox" data-category="整洁穿衣化妆服务" data-name="冰棺白布、搬抬白布、毛巾" data-price="100"> 冰棺白布、搬抬白布、毛巾（10-20条）：100元</label>
                </div>
                <div class="service-item">
                    <label><input type="checkbox" data-category="整洁穿衣化妆服务" data-name="洗发或修发" data-price="200"> 洗发或修发：200元</label>
                </div>
                <div class="service-item">
                    <label><input type="checkbox" data-category="整洁穿衣化妆服务" data-name="清洁并封闭口鼻耳、修剪毛发等" data-price="300"> 清洁并封闭口鼻耳、修剪毛发等：300元</label>
                </div>
                <div class="service-item">
                    <label><input type="checkbox" data-category="整洁穿衣化妆服务" data-name="沐浴露洗澡" data-price="300"> 沐浴露洗澡：300元</label>
                </div>
                <div class="service-item">
                    <label>擦干穿衣：</label>
                    <select id="dressingService" class="service-select" data-category="整洁穿衣化妆服务">
                        <option value="">请选择</option>
                        <option value="800" data-name="一位师傅">一位师傅：800元</option>
                        <option value="1500" data-name="多位师傅或女师傅">多位师傅或女师傅：1500元</option>
                    </select>
                </div>
                <div class="service-item">
                    <label>化妆服务：</label>
                    <select id="makeupOption" class="service-select" data-category="整洁穿衣化妆服务">
                        <option value="">请选择</option>
                        <option value="600" data-name="化妆服务（公共用品）">公共用品：600元</option>
                        <option value="1200" data-name="化妆服务（高档化妆品）">高档化妆品：1200元</option>
                    </select>
                </div>
            </div>
        </div>

        <!-- 3. 额外用品金额 -->
        <h3>3. 额外用品金额</h3>
        <div>
            <div class="service-item">
                <label>请输入金额：</label>
                <input type="number" id="additionalAmount" min="0" placeholder="输入金额">
            </div>
        </div>
    </div>

    <div class="btn-container">
        <div class="btn" onclick="calculateTotal()">计算总费用</div>
        <div class="btn" onclick="showFengshui()">低保家庭</div>
    </div>

    <div class="total" id="totalAmount">总费用：0元</div>
    <div class="fengshui hidden" id="fengshuiPrice"></div>

    <div class="bill" id="billDetails" style="display:none;">
        <h2>费用清单</h2>
        <!-- 费用清单内容 -->
        <div class="qrcode-container">
            <div>
                <img src="qrcode_wechat.jpg" alt="微信收款码">
                <p>微信收款码</p>
            </div>
            <div>
                <img src="qrcode_alipay.jpg" alt="支付宝收款码">
                <p>支付宝收款码</p>
            </div>
            <div>
                <img src="qrcode_unionpay.jpg" alt="银联收款码">
                <p>银联收款码</p>
            </div>
        </div>
    </div>
</div>

